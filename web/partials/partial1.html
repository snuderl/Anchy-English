<script type="text/ng-template" id="myModalContent.html">
        <div class="border-b border-gray-200 pb-4 mb-4">
            <h3 class="text-lg font-semibold text-gray-900">Pozor!</h3>
        </div>
        <div class="mb-6 text-gray-700">
            Ste prepričani da želite izbrisati delovni list?
        </div>
        <div class="flex justify-end gap-3">
            <button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors duration-200" ng-click="ok()">OK</button>
            <button class="px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors duration-200" ng-click="cancel()">Cancel</button>
        </div>
</script>

<script type="text/ng-template" id="categorySearchTemplate.html">
<a>
  <span bind-html-unsafe="match.model.name | typeaheadHighlight:query"></span>
</a>
</script>

<script type="text/ng-template" id="wordSearchTemplate.html">
<a>
  <span bind-html-unsafe="match.model.english | typeaheadHighlight:query"></span> - 
  <span bind-html-unsafe="match.model.slovene | typeaheadHighlight:query"></span>
</a>
</script>

	<br><br>
<div ng-show="!editMode" class="max-w-4xl mx-auto p-5 bg-gray-50 rounded-xl shadow-lg">
	<form role="form">
		<div class="bg-gradient-to-r from-primary to-secondary text-white p-6 rounded-lg mb-8">
			<h1 class="text-3xl font-semibold m-0">{{worksheet.ime}}</h1>
		</div>
		<div ng-show="resuj" class="bg-white p-5 rounded-lg mb-6 shadow-sm">
			<div class="text-gray-700 mb-4 font-medium">Rešenih {{finishedCount()}} od {{worksheet.words.length}} besed.</div>
			<div class="w-full bg-gray-200 rounded-full h-9 overflow-hidden shadow-inner">
				<div class="bg-gradient-to-r from-blue-400 to-blue-600 h-full rounded-full font-semibold text-sm leading-9 text-white text-center shadow-md transition-all duration-500 ease-out" 
					 role="progressbar" 
					 aria-valuenow="{{getProgressPercentage()}}" 
					 aria-valuemin="0" aria-valuemax="100" 
					 style="width: {{getProgressPercentage()}}%; min-width: 2em;">
					{{getProgressPercentage()}}%
				</div>
			</div>
		</div>
		<div class="space-y-5">
			<div class="bg-white p-5 rounded-lg shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all duration-200" ng-repeat="pair in worksheet.words">
				<div class="inline-block min-w-[150px] text-lg font-semibold text-gray-800 mr-5 mb-4">{{ pair.slovene }}</div>
				<worddisplay finished="finished[$index]" pair="pair" visible="visible" num="$index" edit="editMode" resuj="resuj"></worddisplay>
			</div>
		</div>
		<div ng-show="isFinished()" class="text-center p-10 bg-gradient-to-r from-primary to-secondary text-white rounded-xl mt-8 animate-slideInUp">
			<div class="text-6xl mb-5 animate-bounce">🎉</div>
			<h1 class="text-4xl mb-3">Čestitke, uspelo ti je!</h1>
			<p>Odlično delo! Uspešno si rešil vse besede.</p>
		</div>

		<div class="inline-flex rounded-md shadow-sm mt-6" role="group" ng-show="!resuj">
			<button type="button" class="px-4 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-l-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700" ng-click="toggleAnswers()">Answers</button>
			<button type="button" class="px-4 py-2 text-sm font-medium text-gray-900 bg-white border-t border-b border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700" ng-click="print()">Print</button>
			<button type="button" class="px-4 py-2 text-sm font-medium text-gray-900 bg-white border-t border-b border-l border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700" ng-click="edit()">Urejaj</button>
			<button type="button" class="px-4 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-r-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700" ng-click="resujButton()">Resuj</button>
		</div>
	</form>
</div>


<div class="max-w-4xl mx-auto" ng-show="editMode">
	<div class="bg-white rounded-lg shadow-lg p-6">
		<form role="form">
		<fieldset class="mb-6"><legend class="text-xl font-semibold text-gray-800 mb-4">Učni list</legend></fieldset>

			<div class="mb-4">
				<label class="block text-sm font-medium text-gray-700 mb-2" for="naslov">Naslov: </label>
				<input class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" type="text" ng-model="worksheet.ime" id="naslov" placeholder="Naslov delovnega lista" />
			</div>

			<fieldset class="mb-6"><legend class="text-xl font-semibold text-gray-800 mb-4">Besede</legend></fieldset>
			<div class="mb-6">
				<div class="grid grid-cols-2 gap-4 mb-2" ng-repeat="pair in worksheet.words" >
					<label class="text-gray-700 font-medium">{{ pair.slovene }}</label>
					<div class="flex items-center justify-between">
						<span class="text-gray-900">{{ pair.english}}</span>
						<a href="" ng-show="editMode" ng-click="remove($index)" class="text-red-500 hover:text-red-700">
							<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
							</svg>
						</a>
					</div>
				</div>
			</div>

			<fieldset class="mb-6"><legend class="text-xl font-semibold text-gray-800 mb-4">Dodaj besedo</legend></fieldset>
			<div class="mb-4">
				<label class="block text-sm font-medium text-gray-700 mb-2" for="english-word">English: </label>
				<input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" ng-model="word.english" id="english-word" typeahead="word for word in words | filter:{english: word.english} | filter:{slovene: word.slovene} | limitTo: 8" typeahead-on-select="chooseWord($item, $model, $label)" typeahead-template-url="wordSearchTemplate.html"/>
			</div>
			<div class="mb-4">
				<label class="block text-sm font-medium text-gray-700 mb-2" for="slovene-word">Slovene: </label>
				<input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" id="slovene-word" ng-model="word.slovene" typeahead="word for word in words | filter:{english: word.english} | filter:{slovene: word.slovene} | limitTo: 8" typeahead-on-select="chooseWord($item, $model, $label)" typeahead-template-url="wordTemplate.html"/>
			</div>


			<div class="text-center mb-6">
				<button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors duration-200" ng-disabled="!canAdd()" ng-click="addWord()">Dodaj</button>
			</div>


			<fieldset class="mb-6"><legend class="text-xl font-semibold text-gray-800 mb-4">Kategorije</legend></fieldset>
			<div class="mb-6">
				<div class="flex items-center justify-between mb-2" ng-repeat="category in worksheet.categories" >
					<span class="text-gray-900">{{ category.name }}</span>
					<a href="" ng-click="removeCategory($index)" class="text-red-500 hover:text-red-700">
						<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
						</svg>
					</a>
				</div>
			</div>

			<fieldset class="mb-6"><legend class="text-xl font-semibold text-gray-800 mb-4">Dodaj kategorijo</legend></fieldset>
			<div class="mb-6">				
				<label class="block text-sm font-medium text-gray-700 mb-2">Ime</label>
				<div class="flex gap-2">
					<input type="text" class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Kategorija" ng-model="category.name" typeahead="category for category in categories | filter:{name: $viewValue} | limitTo: 8" typeahead-on-select="chooseCategory($item, $model, $label)"  typeahead-template-url="categorySearchTemplate.html">
					<button type="button" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors duration-200" ng-click="addCategory()" ng-disabled="canAddCategory()">Dodaj</button>
				</div>
			</div>


			<fieldset class="mb-6"><legend class="text-xl font-semibold text-gray-800 mb-4">Komande</legend></fieldset>
			<div class="text-center">
				<div class="inline-flex rounded-md shadow-sm" role="group">
					<button type="button" class="px-4 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-l-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700" ng-click="save()">Shrani</button>
					<button type="button" class="px-4 py-2 text-sm font-medium text-gray-900 bg-white border-t border-b border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700" ng-click="prekini()">Prekini</button>
					<button type="button" class="px-4 py-2 text-sm font-medium text-white bg-red-600 border border-red-600 rounded-r-lg hover:bg-red-700 focus:z-10 focus:ring-2 focus:ring-red-500 focus:text-white" ng-click="delete()">Izbrisi</button>
				</div>
			</div>
		</form>
	</div>
</div>



